{"version":3,"file":"static/js/674.3d2d6a55.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage.jsx","services/api.js"],"sourcesContent":["import { MagnifyingGlass } from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <MagnifyingGlass\n      visible={true}\n      height=\"80\"\n      width=\"80\"\n      ariaLabel=\"MagnifyingGlass-loading\"\n      wrapperStyle={{\n        margin: '0 auto',\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      }}\n      wrapperClass=\"MagnifyingGlass-wrapper\"\n      glassColor=\"#c0efff\"\n      color=\"#e15b64\"\n    />\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"movies-list\":\"MoviesList_movies-list__xnKYG\",\"movies-list__item\":\"MoviesList_movies-list__item__nrRBh\",\"movies-list__link\":\"MoviesList_movies-list__link__leO8M\",\"movies-list__poster\":\"MoviesList_movies-list__poster__gmqFV\",\"movies-list__title\":\"MoviesList_movies-list__title__mH8y+\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ filmsList }) => {\n  const location = useLocation();\n  return (\n    <ul className={css['movies-list']}>\n      {filmsList.map(({ id, title, poster_path }) => {\n        const defaultImg =\n          'https://www.tgv.com.my/assets/images/404/movie-poster.jpg';\n        const posterUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\n\n        return (\n          <li key={id} className={css['movies-list__item']}>\n            <Link\n              to={`/movies/${id}`}\n              state={{ from: location }}\n              className={css['movies-list__link']}\n            >\n              <img\n                src={poster_path ? posterUrl : defaultImg}\n                alt={title}\n                className={css['movies-list__poster']}\n              />\n              <span className={css['movies-list__title']}>{title}</span>\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  filmsList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string,\n    })\n  ).isRequired,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form-container\":\"SearchForm_form-container__rXsYK\",\"form-input\":\"SearchForm_form-input__P9boH\",\"form-button\":\"SearchForm_form-button__gaJsv\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\n\nconst SearchForm = ({ setSearchParams }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const value = form.elements.search.value;\n    setSearchParams({\n      query: value,\n    });\n    form.reset();\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={css['form-container']}>\n      <input type=\"text\" name=\"search\" className={css['form-input']} required />\n      <button type=\"submit\" className={css['form-button']}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  setSearchParams: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getFilmSearch } from 'services/api';\n\nconst toastConfig = {\n  position: 'top-right',\n  autoClose: 2000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchMoviesName = searchParams.get('query');\n\n  useEffect(() => {\n    if (!searchMoviesName) return;\n\n    const fetchMoviesSearch = async () => {\n      try {\n        setIsLoading(true);\n        const fetchResult = await getFilmSearch(searchMoviesName);\n        setMovies(fetchResult.results);\n\n        fetchResult.results.length > 0\n          ? toast.success('Your films were successfully fetched!', toastConfig)\n          : toast.info(\n              `Opps... .Your ${searchMoviesName} was not found.`,\n              toastConfig\n            );\n      } catch (error) {\n        setErrorMsg(error.message);\n        toast.error(errorMsg, toastConfig);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMoviesSearch();\n  }, [searchMoviesName, errorMsg]);\n\n  return (\n    <>\n      <SearchForm setSearchParams={setSearchParams} />\n      {movies && <MoviesList filmsList={movies} />}\n      {isLoading && <Loader />}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '9768baa5071faaf4c13ac6e91d2a589d';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(\n    `${URL}/trending/movie/day?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getFilmSearch = async query => {\n  const response = await axios.get(\n    `${URL}/search/movie?query=${query}&include_adult=false&language=en-US&api_key=${API_KEY}&page=1`\n  );\n  return response.data;\n};\n\nexport const getFilmId = async id => {\n  const response = await axios.get(\n    `${URL}/movie/${id}?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getFilmsCast = async id => {\n  const response = await axios.get(\n    `${URL}/movie/${id}/credits?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getFilmReviews = async id => {\n  const response = await axios.get(\n    `${URL}/movie/${id}/reviews?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n"],"names":["visible","height","width","ariaLabel","wrapperStyle","margin","position","top","left","transform","wrapperClass","glassColor","color","filmsList","location","useLocation","className","css","map","id","title","poster_path","posterUrl","to","state","from","src","alt","setSearchParams","onSubmit","e","preventDefault","form","currentTarget","value","elements","search","query","reset","type","name","required","toastConfig","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","useState","movies","setMovies","isLoading","setIsLoading","errorMsg","setErrorMsg","useSearchParams","searchParams","searchMoviesName","get","useEffect","fetchMoviesSearch","getFilmSearch","fetchResult","results","length","toast","message","MoviesList","Loader","URL","API_KEY","getTrendingMovies","axios","response","data","getFilmId","getFilmsCast","getFilmReviews"],"sourceRoot":""}